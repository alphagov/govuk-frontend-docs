# Deployment

Frontend Docs is a static site which is generated by
[Middleman](https://middlemanapp.com/) and hosted on Netlify.

Netlify runs `bundle exec middleman build` and deploys the contents of the
`build` directory.

This deployment happens outside of GitHub Actions, which means that deploys
happen in parallel with the tests running. However, Netlify will only deploy if
the build executes successfully.

frontend.design-system.service.gov.uk is configured as a subdomain of
design-system.service.gov.uk domain which is managed via Netlify.

## Production

Whenever the `main` branch changes, the site is built and deployed to
frontend.design-system.service.gov.uk.

## Pull Request previews

Previews of Pull Requests are automatically published to a URL which has the
prefix `deploy-preview` followed by the identifier number of the pull request.

For example, pull request #137 would be deployed to
`deploy-preview-137--govuk-frontend-docs-preview.netlify.com`.

The Netlify bot should comment on each PR shortly after building with a link to
the preview.

## Branch previews

When a new branch is pushed to GitHub a preview website will be deployed. Branch
deploys are published to a URL which includes the branch name as a prefix.

For example, if a branch is called `staging`, it will deploy to
`staging--govuk-frontend-docs-preview.netlify.com`.

## History

### Hosting on PaaS

From launch until December 2023, the Frontend Docs were hosted on PaaS.
